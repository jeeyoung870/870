<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace = "manageBoard">
 	<update id = "managerUpdateArticle" parameterType = "hils.community.model.BoardDto">
 		update board set b_content = #{b_content}, b_subject = #{b_subject} 
 		where b_number = #{b_number}
 	</update>
 	<delete id = "managerDeleteArticle" parameterType = "int">
 		delete from board where b_number = #{b_number}
 	</delete>
 	<select id = "searchArticle" parameterType = "hils.managePosting1.model.ManagerSearchVO" resultType = "hils.community.model.BoardDto">
 		select b_number, b_subject, b_reg_date, b_category, b_content, b_readcount, b_recommendcount, user_id
 		from board 
 		<where>
 		 b_category = #{b_category}
 		<if test='search_option == "user_id"'>
		and user_id like '%'||#{search_keyword}||'%'
		</if>
		<if test = 'search_option == "b_subject"'>
		and b_subject like '%'||#{search_keyword}||'%'
		</if>
		<if test = "start_date != null and start_date != '' and end_date != null and end_date != ''">
		and b_reg_date between to_date(#{start_date}, 'yyyy/MM/dd') and to_date(#{end_date}, 'yyyy/MM/dd')
		</if>
		order by b_number
		</where>
 	</select>
 	
 </mapper>